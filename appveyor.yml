version: 1.0.0-beta.{build}

# Fix line endings in Windows. (runs before repo cloning)
init:
  - git config --global core.autocrlf input

# this turns of AppVeyor automatic searching for test-assemblies, not the actual testing
# test_script: test.cmd

configuration: Release
os: Visual Studio 2015
platform: Any CPU
install:
  - set PATH=%PROGRAMFILES(x86)%\MSBuild\14.0\Bin;%PATH%
  - dnvm upgrade -alias default
  - .paket\paket.bootstrapper.exe
  - .paket\paket.exe restore
  - dnu restore MessageTemplates
  - dnu restore MessageTemplates.Tests
  - set DNX_BUILD_VERSION=%APPVEYOR_BUILD_NUMBER%
build:
  verbosity: minimal
  publish_nuget: true
  publish_nuget_symbols: true
  parallel: true

artifacts:
- path: artifacts\bin\MessageTemplates\$(configuration)\*.nupkg
